!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Kaas=e()}}(function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),t=t||{},this.increment=20,this.to=t.to||0,this.duration=t.duration||500,this.startDelayTimeout=null}return i(e,[{key:"animate",value:function(e,t,n){this.isRunning()||(this.increment=20,this.to=e||0,this.duration=t||500,this.onComplete=n||function(){},this.start())}},{key:"start",value:function(){this.running=!0,this.startPosition=window.scrollY,this.change=this.to-this.startPosition,this.currentTime=0,this._animateStep()}},{key:"_animateStep",value:function(){this.currentTime+=this.increment;var t=e.easeInOutQuad(this.currentTime,this.startPosition,this.change,this.duration);if(window.scrollTo(0,Math.round(t)),this.currentTime<this.duration){var n=this;return void window.requestAnimationFrame(function(){n._animateStep()})}this._complete()}},{key:"_complete",value:function(){window.scrollTo(0,this.to),this.onComplete(),this.running=!1}},{key:"isRunning",value:function(){return this.running}}],[{key:"easeInOutQuad",value:function(e,t,n,r){return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)}}]),e}();t.exports=a},{}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./core/Display"),s=r(o),l=e("../../util/Setting"),u=r(l),c=e("./data/Summary"),h=r(c),f=e("./core/Sort"),d=r(f),m=e("./core/Column"),p=r(m),v=e("./data/Json"),y=e("../../util/UtilObject"),b=r(y),g=function(){function e(t){i(this,e),t=t||{},this.settings=new u["default"](t),this.reset(),this._init()}return a(e,[{key:"_init",value:function(){var e=this;this.sortHandler=new d["default"](this.settings.getAll()),this._initScrollEvents(),this.enableHeaderSort(),this.settings.get("plugins",[]).forEach(function(t){e.registerPlugin(t)}),this._enableSelectableRows(),this.element.dispatchEvent(this.createInitEvent())}},{key:"_getHeaderCols",value:function(){if(!this._headerCols){var e=this._getMainContainer().querySelector(".table-card thead"),t=Array.prototype.slice.call(e.querySelectorAll("td, th"));this._headerCols=t}return this._headerCols}},{key:"_getMainContainer",value:function(){return this.settings.has("mainContainer")||this.settings.add("mainContainer",this.element.parentNode.parentNode.parentNode),this.settings.get("mainContainer",!1)}},{key:"_setNewScrollAction",value:function(e){if(this.scrollTimeOut-0<=0||void 0===this.scrollTimeOut){var t=this;return this.scrollTimeOut=setTimeout(function(){t._onScroll.apply(t,[e])},this.settings.get("scrollTimeout",200)),!0}return!1}},{key:"_initScrollEvents",value:function(){var e=this,t=function(t){this.scrollTimeOut-0>0||void 0!==this.scrollTimeOut||(t.stopPropagation(),e._setNewScrollAction(t))};this.yScrollContainer.addEventListener("scroll",t,!1)}},{key:"_enableSelectableRows",value:function(){if(0!=this.settings.get("selectable",!1)){var e=this;this.selectAllInput=document.createElement("input"),this.selectAllInput.setAttribute("type","checkbox"),this._getHeaderCols()[0].appendChild(this.selectAllInput),this.selectAllInput.addEventListener("click",function(t){t.stopPropagation(),e.selectAll.apply(e,[this.checked])},!1)}}},{key:"hideColumns",value:function(e){new p["default"]({hiddenColumns:e,mainContainer:this._getMainContainer()})}},{key:"updateCellData",value:function(e,t){var n=0,r=this.dataRegister.length;for(n;r>n;n++)this.dataRegister[n].selectItem.getSelect().checked&&this.dataRegister[n].getCell(e).setFormValue(t)}},{key:"getFormsData",value:function(){var e={};return this.dataRegister.forEach(function(t){var n=t.onSave();if(n!=={})for(var r in n)e.hasOwnProperty(r)?e[r]=b["default"].Merge(e[r],n[r]):e[r]=n[r]}),e}},{key:"onSave",value:function(){this.element.dispatchEvent(this.createPreSaveEvent()),this.element.dispatchEvent(this.createOnSaveEvent()),this.selectAllInput.checked&&this.selectAllInput.click()}},{key:"onCancel",value:function(){var e=0,t=this.dataRegister.length;for(e;t>e;e++)this.dataRegister[e].onCancel();this.selectAllInput.checked&&this.selectAllInput.click()}},{key:"enableHeaderSort",value:function(){var e=this;this._getHeaderCols().forEach(function(t){t.addEventListener("click",function(t){var n=Array.prototype.indexOf.call(e._getHeaderCols(),this);e.sort(n+1),e.render(!0)})})}},{key:"addRows",value:function(e){if(null!=e){var t=this.parser.processData(e);t=this.sortHandler.sort(t),this.dataRegister=this.dataRegister.concat(t),this.setStatusText(),this.display.renderSummary(this.dataRegister),this.sort(this.sortHandler.sortField+1,this.sortHandler.sortDirection)}}},{key:"setStatusText",value:function(){var e=this.settings.get("statusText","%d").replace("%d",Object.keys(this.dataRegister).length);this.element.parentNode.parentNode.querySelector(".status-text").innerHTML=e}},{key:"renderText",value:function(e){this.display.renderText(e)}},{key:"render",value:function(e){this.display.render(this.dataRegister,e)}},{key:"selectAll",value:function(e){this.dataRegister.forEach(function(t){t.selectRow(e)})}},{key:"setSortDirection",value:function(e,t){var n=this.settings.get("defaultSortDirection",1);t?this.sortHandler.setSortDirection(t):this.sortHandler.sortField!=e?this.sortHandler.setSortDirection(n):this.sortHandler.invertSortDirection()}},{key:"sort",value:function(e,t){t=t||!1,e=(e||1)-1,this.setSortDirection(e,t),this.setSortHeader(e),this.sortHandler.setSortField(e),this.dataRegister=this.sortHandler.sort(this.dataRegister)}},{key:"setSortHeader",value:function(e){var t=this._getHeaderCols();t.forEach(function(e){e.classList.remove("sort","desc")}),t[e].classList.add("sort"),-1==this.sortHandler.sortDirection&&t[e].classList.add("desc")}},{key:"_onScroll",value:function(e){var t=this.yScrollContainer.scrollTop;document.activeElement!=this.yScrollContainer&&this.lastScrollY-t<-20&&this.yScrollContainer.dispatchEvent(this.createScrollFocusEvent()),this.lastScrollY=t,this.render(!1),this.element.dispatchEvent(this.createAfterScrollEvent()),this.scrollTimeOut=0}},{key:"reset",value:function(){this.element=this.settings.get("element",document.querySelector("table")),this.yScrollContainer=this.element.parentNode,this.yScrollContainer.setAttribute("tabindex","-1");var e=document.createElement("tbody");this.dataRegister=[],this.summaryRegister=new h["default"](this.settings.getAll()),this.summaryFields=this.settings.get("summaryFields",{}),this.settings.change("summaryRegister",this.summaryRegister),this.parser=new v.JsonParser(this.settings.getAll()),this.display=new s["default"]({dataTable:this.element,summaryFields:this.summaryFields,summaryRegister:this.summaryRegister}),this.display.switchCurrentBody(e),this.lastScrollY=0,this.element.dispatchEvent(this.createResetEvent()),this.selectAllInput&&this.selectAllInput.checked&&this.selectAllInput.click()}},{key:"createInitEvent",value:function(){return new CustomEvent("init",{detail:{datagrid:this},bubbles:!0,cancelable:!0})}},{key:"createPreSaveEvent",value:function(){return new CustomEvent("preSave",{detail:{datagrid:this},bubbles:!0,cancelable:!0})}},{key:"createScrollFocusEvent",value:function(){return new CustomEvent("scrollFocus",{detail:{datagrid:this},bubbles:!0,cancelable:!0})}},{key:"createOnSaveEvent",value:function(){return new CustomEvent("onSave",{detail:{data:this.getFormsData()},bubbles:!0,cancelable:!0})}},{key:"createAfterScrollEvent",value:function(){return new CustomEvent("afterScroll",{detail:{datagrid:this,scrollY:this.lastScrollY},bubbles:!0,cancelable:!0})}},{key:"createResetEvent",value:function(){return new CustomEvent("reset",{detail:{datagrid:this},bubbles:!0,cancelable:!0})}},{key:"getSortSettings",value:function(){return{direction:this.sortHandler.sortDirection,column:this.sortHandler.sortField}}},{key:"registerPlugin",value:function(e){var t=this;["init","reset","afterScroll","selectRow","unSelectRow","onFocus","onSave","preSave"].forEach(function(n){e.__proto__.hasOwnProperty(n)&&t.element.addEventListener(n,function(r){e[n].apply(e,[r,this,t])},!1)})}}]),e}();t.exports=g},{"../../util/Setting":24,"../../util/UtilObject":25,"./core/Column":3,"./core/Display":4,"./core/Sort":6,"./data/Json":10,"./data/Summary":12}],3:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.hiddenColumns=t.hiddenColumns||[],this.mainContainer=t.mainContainer,this.applySettings()}return i(e,[{key:"applySettings",value:function(){this.showAll();var e=document.createElement("style"),t="";for(var n in this.hiddenColumns)t+=".table-card table tr > :nth-child("+this.hiddenColumns[n]+") {display: none;}\n";e.appendChild(document.createTextNode(t)),this.mainContainer.appendChild(e)}},{key:"showAll",value:function(){var e=this.mainContainer.querySelector("style");e&&this.mainContainer.removeChild(e)}}]),e}();t.exports=a},{}],4:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../data/Elements"),s=r(o),l=function(){function e(t){i(this,e),this.dataTable=t.dataTable,this.options=t,this.footer=this.dataTable.parentNode.parentNode.querySelector(".table-footer-container tfoot"),this.start=-1,this._rowHeight=0,this.minimalPartSize=75,this.numberOfRowsInView=-1}return a(e,[{key:"renderText",value:function(e){var t=s["default"].tbody.cloneNode(!1),n=s["default"].tr.cloneNode(!1),r=s["default"].td.cloneNode(!1);return t.firstChild&&t.removeChild(t.firstChild),t.appendChild(n),n.appendChild(r),r.style.width="100%",r.style.minWidth="100%",r.style.maxWidth="100%",r.setAttribute("colspan",9999),r.insertAdjacentHTML("beforeend",e),this.switchCurrentBody(t),this.currentBody}},{key:"getPartSize",value:function(){var e=this._getNumberOfRowsInView();return Math.max(this.minimalPartSize,3*e)}},{key:"getStart",value:function(e){if(e.length<=this.minimalPartSize)return 0;var t=this.getPartSize()-this._getNumberOfRowsInView(),n=this._getRowNumberFromScrollHeight();return t>0&&(n-=Math.floor(t/2)),n<=this._getNumberOfRowsInView()?0:Math.max(0,n)}},{key:"render",value:function(e,t){var n=20,r=10;if(0==e.length)return this.renderText("We have no items to show in this selection");if(this.mode!=n){this.mode=n,0==this._rowHeight&&(e[0].render(),this._rowHeight=e[0].rowHeight);var i=this.getStart(e);if(Math.abs(this.start-i)<this._getNumberOfRowsInView()&&t!==!0)return this.mode=r,!1;var a=document.createDocumentFragment(),o=s["default"].tbody.cloneNode(!1),l=this.getPartSize(),u=i+l,c=e.slice(i,u),h=c.length,f=e.length;if(0>=h)return this.mode=r,!1;if(i>0){var d=this._getTopFiller(i);o.appendChild(d)}var m=this._getMidFiller(c.length);o.appendChild(m);var p=!1;return f>u&&(p=this._getBottomFiller(u,f),o.appendChild(p)),this.switchCurrentBody(o),c.forEach(function(e){a.appendChild(e.render())}),o.replaceChild(a,m),this.start=i,this.mode=r,this.currentBody}}},{key:"_footerChildren",value:function(){return this.footerChildren||(this.footerChildren=this.footer.querySelectorAll("th")),this.footerChildren}},{key:"renderSummary",value:function(e){if(!(e.length<=0)){e[0].render();for(var t in this.options.summaryFields){var n=e[0].getIndexOfCellName(t),r=this.options.summaryRegister.get(t);this._footerChildren()[n]&&(this._footerChildren()[n].firstChild&&this._footerChildren()[n].removeChild(this._footerChildren()[n].firstChild),this._footerChildren()[n].insertAdjacentHTML("BeforeEnd",r))}}}},{key:"_getNumberOfRowsInView",value:function(){if(-1==this.numberOfRowsInView){var e=this.dataTable.parentNode.parentNode.offsetHeight,t=this.getRowHeight();this.numberOfRowsInView=(e-e%t)/t,this.numberOfRowsInView=Math.max(25,this.numberOfRowsInView)}return this.numberOfRowsInView}},{key:"getRowHeight",value:function(){if(this._rowHeight<=0){var e=s["default"].tbody.cloneNode(!1),t=s["default"].tr.cloneNode(!1),n=s["default"].td.cloneNode(!1);n.insertAdjacentHTML("BeforeEnd","Test"),e.appendChild(t),t.appendChild(n),this.dataTable.appendChild(e),this._rowHeight=t.offsetHeight,e.removeChild(t)}return this._rowHeight}},{key:"_getRowNumberFromScrollHeight",value:function(){var e=this.getRowHeight(),t=this.dataTable.parentNode.scrollTop,n=(t-t%e)/e;return Math.max(0,n)}},{key:"_getTopFiller",value:function(e){var t=s["default"].tr.cloneNode(!1),n=s["default"].td.cloneNode(!1);return n.style.height=e*this.getRowHeight()+"px",n.setAttribute("colspan","99999"),t.appendChild(n),t.className="top-filler",t}},{key:"_getMidFiller",value:function(e){var t=s["default"].tr.cloneNode(!1),n=s["default"].td.cloneNode(!1);return n.style.height=e*this.getRowHeight()+"px",n.setAttribute("colspan","99999"),t.appendChild(n),t.className="mid-filler",t}},{key:"_getBottomFiller",value:function(e,t){var n=s["default"].tr.cloneNode(!1),r=s["default"].td.cloneNode(!1);return r.style.height=(t-e)*this.getRowHeight()+"px",r.setAttribute("colspan","99999"),n.appendChild(r),n}},{key:"switchCurrentBody",value:function(e){if(this.currentBody instanceof HTMLElement&&this.currentBody.parentNode==this.dataTable)return this.dataTable.replaceChild(e,this.currentBody),void(this.currentBody=e);if(this.dataTable.querySelector("tbody")){var t=this.dataTable.querySelector("tbody");return this.dataTable.replaceChild(e,t),void(this.currentBody=t)}this.dataTable.appendChild(e),this.currentBody=e}}]),e}();t.exports=l},{"../data/Elements":9}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../data/Elements"),s=r(o),l=function(){function e(t){i(this,e),this.row=t.row,this.onSelect=t.onSelect||function(e){}}return a(e,[{key:"getSelect",value:function(){if(void 0===this.select){var e=this;this.select=s["default"].checkbox.cloneNode(!1),this.select.setAttribute("value",this.row.getRaw().id||0),this.select.checked=!1,this.select.addEventListener("click",function(t){this.hasAttribute("checked")?(this.checked=!1,this.removeAttribute("checked")):(this.checked=!0,this.setAttribute("checked","checked")),e._onSelect.apply(e,[t,this.checked])},!1)}return this.select}},{key:"isSelected",value:function(){return this.getSelect().checked}},{key:"_onSelect",value:function(e,t){this.onSelect(t),this.row.onSelectRow(t)}}]),e}();t.exports=l},{"../data/Elements":9}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.sortDataHandler=t.sortDataHandler||function(e){return e},this.sortField=t.sortField||1,this.sortDirection=t.sortDirection||1}return i(e,[{key:"invertSortDirection",value:function(){this.sortDirection=1==this.sortDirection?-1:1}},{key:"setSortField",value:function(e){this.sortField=e}},{key:"setSortDirection",value:function(e){this.sortDirection=e}},{key:"sort",value:function(e){if(Object.keys(e).length<=0)return[];var t=this.sortField,n=this.sortDirection,r=e[0].getSortFields(),i=r[t];return e.sort(function(e,t){var r=e.getSortDataByFieldName(i),a=t.getSortDataByFieldName(i);return void 0==r&&(r=""),void 0==a&&(a=""),isNaN(r)?null===a||"function"!=typeof a.localeCompare?-1:a.localeCompare(r)*n:r-0>a-0?-1*n:1*n})}}]),e}();t.exports=a},{}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Elements"),s=r(o),l=function(){function e(t,n,r){i(this,e),this.cellFormatter=n.cellFormatter||function(e,t){return e},this.cellClassFormatter=n.cellClassFormatter||function(e){return[]},this.data=t,this.cell=null,this.rowData=r,this.classList=n.classList||[],this.selectItem=n.selectItem||null}return a(e,[{key:"update",value:function(e){this.data=e,this.cell=null,this.render()}},{key:"render",value:function(){if(null==this.cell){this.cell=s["default"].td.cloneNode(!1),null!=this.selectItem&&this.cell.appendChild(this.selectItem.getSelect()),this.classList=this.classList.concat(this.cellClassFormatter(this.data,this.rowData));for(var e=0;e<this.classList.length;e++)this.cell.classList.add(this.classList[e]);this.data=this.cellFormatter(this.data,this.rowData),null==this.data?this.cell.innerHTML="":void 0!=this.data.innerHTML?this.cell.appendChild(this.data):this.data[0]instanceof Object?this.cell.appendChild(this.data[0]):this.cell.insertAdjacentHTML("BeforeEnd",this.data)}return this.cell}}]),e}();t.exports=l},{"./Elements":9}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function v(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:v(i,t,n)}if("value"in r)return r.value;var a=r.get;return void 0===a?void 0:a.call(n)},u=e("./Cell"),c=r(u),h=e("../../../form/Data"),f=r(h),d=e("./Elements"),m=r(d),p=function(e){function t(e,n,r){i(this,t);var o=a(this,Object.getPrototypeOf(t).call(this,e,n,r));return o.classList.push("editable"),o.rawData=n.rawData,o.fieldName=n.fieldName,o.formCell=m["default"].td.cloneNode(!1),o.form=n.form,o.saveDataFormatter=n.saveDataFormatter||function(e){return e},o.formCell.appendChild(o.form),o.rowIsSelected=n.rowIsSelected||!1,o._init(),o}return o(t,e),s(t,[{key:"_init",value:function(){this.cell=null;var e=this.form.querySelector("input, select");e.setAttribute("name",this.fieldName),e.addEventListener("focus",function(e){e.preventDefault()},!0),e.addEventListener("blur",function(){this.parentNode.parentNode.parentNode.parentNode.scrollTop=this.parentNode.parentNode.parentNode.parentNode.scrollTop+1,this.parentNode.parentNode.parentNode.parentNode.scrollTop=this.parentNode.parentNode.parentNode.parentNode.scrollTop-1},!0),this.form.addEventListener("submit",function(e){return e.preventDefault(),!1},!1)}},{key:"update",value:function(e){return this.rawData=e,l(Object.getPrototypeOf(t.prototype),"update",this).call(this,e)}},{key:"render",value:function(){var e=!1;return null==this.cell&&(e=!0),l(Object.getPrototypeOf(t.prototype),"render",this).call(this),e&&this.cell.addEventListener("click",function(e){this.parentNode.querySelector('[type="checkbox"]').click()},!1),this.cell}},{key:"setFormValue",value:function(e){var t=this.formCell.querySelector("input, select");if(t instanceof HTMLInputElement&&(t.value=e,t.setAttribute("value",e)),t instanceof HTMLSelectElement){var n=t.querySelector("option:checked");n&&n.removeAttribute("selected");var r=t.querySelector('[value="'+e+'"]');r&&(t.value=e,r.setAttribute("selected",""))}}},{key:"resetFormValue",value:function(){var e=this.formCell.querySelector("input, select");if(e instanceof HTMLInputElement&&(e.value=this.rawData,e.setAttribute("value",this.rawData)),e instanceof HTMLSelectElement){var t=e.querySelector("option:checked");t&&t.removeAttribute("selected");var n=e.querySelector('[value="'+this.rawData+'"]');n&&(e.value=this.rawData,n.setAttribute("selected",""))}}},{key:"showForm",value:function(){this.rowIsSelected=!0,this.cell.parentNode.replaceChild(this.formCell,this.cell),this.resetFormValue()}},{key:"hideForm",value:function(){this.formCell.parentNode&&(this.formCell.parentNode.replaceChild(this.cell,this.formCell),this.rowIsSelected=!1)}},{key:"getFormData",value:function(){var e=new f["default"]({element:this.form});return e.dataToObject()}},{key:"isChanged",value:function(){return this.rawData!=this.form.querySelector("input, select").value}},{key:"onSave",value:function(){return this.isChanged()?(this.update(this.form.querySelector("input, select").value),this.saveDataFormatter(this.getFormData())):{}}}]),t}(c["default"]);t.exports=p},{"../../../form/Data":13,"./Cell":7,"./Elements":9}],9:[function(e,t,n){"use strict";var r={tr:document.createElement("tr"),td:document.createElement("td"),checkbox:document.createElement("input"),form:document.createElement("form"),text:document.createElement("input"),tbody:document.createElement("tbody"),renderedCells:0};r.text.setAttribute("type","text"),r.checkbox.setAttribute("name","id[]"),r.checkbox.setAttribute("type","checkbox"),t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();Object.defineProperty(n,"__esModule",{value:!0}),n.JsonParser=void 0;var o=e("./Row"),s=r(o),l=function(){function e(t){i(this,e),this.rowHandler=t.rowHandler||function(e){return e},this.rowIsSelectable=t.selectable||!0,this.proccessedData=[],this.options=t||{}}return a(e,[{key:"processData",value:function(e){var t=[];if(e=JSON.parse(e),this.rawData=JSON.parse(JSON.stringify(e)),this.rawData.length<=0)return[];var n=this.options;return e.forEach(function(e){t.push(new s["default"](e,n))}),t}},{key:"getRaw",value:function(){return this.rawData}},{key:"getProcessed",value:function(){return this.proccessedData}}]),e}();n.JsonParser=l},{"./Row":11}],11:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../core/Select"),s=r(o),l=e("./Cell"),u=r(l),c=e("./EditCell"),h=r(c),f=e("./Elements"),d=r(f),m=e("../../../util/UtilObject"),p=r(m),v=function(){function e(t,n){i(this,e),this.originalData=JSON.parse(JSON.stringify(t)),this.rowHeight=20,this.cells={},this.data=t,this.formattedData=null,this.sortData={},this.options=n,this.editableCells=n.editableCells||[],this.sortFields=[],this.cellFormatters=n.cellFormatters||{},this.sortFormatters=n.sortFormatters||{},this.id=this.originalData.id||0,this.rowHandler=this.options.rowHandler||function(e){return e},this.cellClassFormatters=n.cellClassFormatters||{},this.rowSaveHandler=n.rowSaveHandler||function(e){return e},this.options.rowIsSelectable&&(this.selectItem=new s["default"]({row:this}));for(var r in this.data)this.setSortDataField(r),this.addSummaryData(n,r)}return a(e,[{key:"addSummaryData",value:function(e,t){e.summaryFields.hasOwnProperty(t)&&e.summaryRegister.add(t,this.data[t])}},{key:"setSortDataField",value:function(e){if(this.sortFormatters.hasOwnProperty(e)){var t=this.data[e];t=this.sortFormatters[e](t,this.data),this.sortData[e]=t}}},{key:"getIndexOfCellName",value:function(e){return Object.keys(this.cells).indexOf(e)}},{key:"getCell",value:function(e){return this.cells[e]}},{key:"selectRow",value:function(e){this.options.rowIsSelectable!==!1&&this.selectItem.isSelected()!=e&&this.selectItem.getSelect().click()}},{key:"onSelectRow",value:function(e){var t=this;if(1==e){if(Object.keys(this.cells).forEach(function(e){var n=t.cells[e];n instanceof h["default"]&&n.showForm()}),!this.formattedData)return;if(null===this.formattedData.parentNode)return;if(null===this.formattedData.parentNode.parentNode)return;this.formattedData.parentNode.parentNode.dispatchEvent(new CustomEvent("selectRow",{detail:{row:this},bubbles:!0,cancelable:!0}))}else if(0==e){if(Object.keys(this.cells).forEach(function(e){var n=t.cells[e];n instanceof h["default"]&&n.hideForm()}),!this.formattedData)return;if(null===this.formattedData.parentNode)return;if(null===this.formattedData.parentNode.parentNode)return;this.formattedData.parentNode.parentNode.dispatchEvent(new CustomEvent("unSelectRow",{detail:{row:this},bubbles:!0,cancelable:!0}))}}},{key:"onSave",value:function(){var e={};if(!this.selectItem.getSelect().checked)return e;for(var t in this.cells)if(this.cells[t]instanceof h["default"]){var n=this.cells[t].onSave();e=p["default"].Merge(e,n)}return this.selectItem.getSelect().click(),this.rowSaveHandler.apply(this,[e])}},{key:"onCancel",value:function(){this.selectItem.getSelect().checked&&this.selectItem.getSelect().click()}},{key:"getSortFields",value:function(){return this.sortFields}},{key:"getSortDataByFieldName",value:function(e){return this.sortData[e]||this.originalData[e]}},{key:"getRaw",value:function(){return this.originalData}},{key:"render",value:function(){return this.format()}},{key:"format",value:function(){return null!==this.formattedData?this.formattedData:(this.data=this.rowHandler.apply(this,[this.data]),this.formattedData=this._formatNew(),this.formattedData)}},{key:"rowIsSelected",value:function(){return this.options.selectable?this.selectItem.isSelected():!1}},{key:"_formatNew",value:function(){var e,t,n,r=d["default"].tr.cloneNode(!1),i=this,a=this.rowIsSelected();return Object.keys(this.data).forEach(function(o){n=i.data[o],t={},void 0!=i.selectItem&&0==r.querySelectorAll("td").length&&(t.selectItem=i.selectItem),t.rawData=i.originalData[o],t.rowIsSelected=a,t.cellFormatter=i.cellFormatters[o]||null,t.cellClassFormatter=i.cellClassFormatters[o]||null,i.sortFields.push(o),e=i.createCell(o,t,n),i.cells[o]=e,r.appendChild(e.render()),e instanceof h["default"]&&a&&e.showForm(),i.rowHeight=r.offsetHeight}),r}},{key:"createCell",value:function(e,t,n){var r;if(this.editableCells.hasOwnProperty(e)){var i=this.editableCells[e];t.fieldName=i.fieldName||e+"[%d]",-1==t.fieldName.indexOf("%d")&&(t.fieldName+="["+this.id+"]"),t.fieldName=t.fieldName.replace("%d",this.id),t.saveDataFormatter=i.saveDataFormatter,i.hasOwnProperty("showOn")&&i.showOn(n,this.originalData)?(t.form=i.form.cloneNode(!0),r=new h["default"](n,t,this.originalData)):i.hasOwnProperty("showOn")?r=new u["default"](n,t,this.originalData):(t.form=i.form.cloneNode(!0),r=new h["default"](n,t,this.originalData))}else r=new u["default"](n,t,this.originalData);return r}}]),e}();t.exports=v},{"../../../util/UtilObject":25,"../core/Select":5,"./Cell":7,"./EditCell":8,"./Elements":9}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.summaryRegister={},this.formatters=t.summaryFields||{}}return i(e,[{key:"add",value:function(e,t){this.summaryRegister.hasOwnProperty(e)||(this.summaryRegister[e]=0),this.summaryRegister[e]+=t-0}},{key:"getRaw",value:function(e){return this.summaryRegister.hasOwnProperty(e)?this.summaryRegister[e]:!1}},{key:"get",value:function(e){return this.formatters.hasOwnProperty(e)?this.formatters[e](this.getRaw(e),this.summaryRegister):this.getRaw(e)}}]),e}();t.exports=a},{}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t){r(this,e),t=t||{},this.MATCH_ARRAY_NAME=/(.*)\[\]$/,this.MATCH_ARRAY_KEY_NAME=/(.*)\[(.*)\]$/,this.element=t.element||document.querySelector("form"),this._objectContainer={}}return a(e,[{key:"dataToObject",value:function(){this._objectContainer={};var e=this.element,t=e.elements,n=this;return Array.prototype.forEach.call(t,function(e){return"SELECT"===e.nodeName?void n._addSelectedOptionsToObject(e):void n._addNodeToObject(e)}),this._objectContainer}},{key:"_addSelectedOptionsToObject",value:function(e){var t=e.querySelectorAll("option:checked"),n=this;Array.prototype.forEach.call(t,function(e){n._addNodeToObject(e)})}},{key:"_addNodeToObject",value:function(e){var t=e.getAttribute("name"),n=e.nodeName,r=e.getAttribute("type");return"OPTION"===n&&(t=e.parentNode.getAttribute("name"),"OPTGROUP"===e.parentNode.nodeName&&(t=e.parentNode.parentNode.getAttribute("name"))),"string"!=typeof t||"INPUT"===n&&"checkbox"==r&&!e.checked||"INPUT"===n&&"file"==r?void 0:t.match(this.MATCH_ARRAY_NAME)?void this._addArrayTypeToObject(t,e):t.match(this.MATCH_ARRAY_KEY_NAME)?void this._addObjectTypeToObject(t,e):void(this._objectContainer[t]=e.value);
}},{key:"_addArrayTypeToObject",value:function(e,t){e=e.replace(this.MATCH_ARRAY_KEY_NAME,"$1"),this._objectContainer[e]=this._objectContainer[e]||[],this._objectContainer[e].push(t.value)}},{key:"_addObjectTypeToObject",value:function(e,t){var n=e.replace(this.MATCH_ARRAY_KEY_NAME,"$1"),r=e.replace(this.MATCH_ARRAY_KEY_NAME,"$2");this._objectContainer[n]=this._objectContainer[n]||{},this._objectContainer[n][r]=t.value}},{key:"serializeForm",value:function(){return this.serializeObject(this.dataToObject())}},{key:"serializeObject",value:function(e){return this._serializePart(e)}},{key:"_serializePart",value:function(e,t){t=t||"";var n=Object.keys(e),r=this,a="",o=t.length>0;return n.forEach(function(n,s){var l=e[n],u=n.replace(/\[\]$/,"");return o&&(u=t+"["+n+"]"),s>0&&(a+="&"),"array"==typeof l||"object"===("undefined"==typeof l?"undefined":i(l))?void(a+=r._serializePart(e[n],u)):void(a+=encodeURIComponent(u)+"="+encodeURIComponent(l))}),a}}]),e}();t.exports=o},{}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./Data"),s=r(o),l=function(){function e(t){i(this,e);var n="POST",r="GET";this.REQUEST_TYPE_POST=n,this.REQUEST_TYPE_GET=r,this.url=t.url||"./index.html",this.complete=t.complete||function(){},this.success=t.success||function(){},this.error=t.error||function(){},this.element=t.element||null,this.status=0,this.data=t.data||!1,this.requestType=t.type||n,this.dataHelper=new s["default"]({element:t.element||null})}return a(e,[{key:"_create",value:function(){this.requestType==this.REQUEST_TYPE_POST?this.createPostRequest():this.createGetRequest()}},{key:"send",value:function(e,t){e=e||1e3,t=t||0,2!=this.status&&(this.status=2,this._create(),this.requestType==this.REQUEST_TYPE_POST?this.request.send(this.serializePostData(e,t)):this.request.send())}},{key:"serializePostData",value:function(e,t){var n="";if(null!=this.element&&(n+=this.dataHelper.serializeForm()),n.length>0&&(n+="&"),this.data){var r=this.data;"function"==this.data.toString().substr(0,8)&&(r=r()),n+=this.dataHelper.serializeObject(r)}return n.length>0&&(n+="&"),n+=encodeURIComponent("offset")+"="+encodeURIComponent(t),n+="&"+encodeURIComponent("limit")+"="+encodeURIComponent(e)}},{key:"abort",value:function(){null!==this.request&&this.request.abort()}},{key:"createGetRequest",value:function(){var e=this;this.request=new XMLHttpRequest,this.request.open("GET",this.url,!0),this.request.onload=function(){this.status>=200&&this.status<400&&(e.lastResult=this.responseText||this.responseXML,e.status=3,e.success.call(e,e.lastResult))},this.request.onerror=function(){e.error.call(e,-3)}}},{key:"createPostRequest",value:function(){var e=this;this.request=new XMLHttpRequest,this.request.open("POST",this.url,!0),this.request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),this.request.onload=function(){if(this.status>=200&&this.status<400){e.lastResult=this.responseText||this.responseXML;try{e.lastResult=JSON.parse(this.responseText)}catch(t){}return e.status=3,void e.success.call(e,e.lastResult)}e.error(this.status),e.status=-2},this.request.onerror=function(){e.error.call(e,-3)}}},{key:"addHTMLTo",value:function(e){this.requestType=this.REQUEST_TYPE_GET,e instanceof HTMLElement&&(this.createGetRequest(),this.success=function(t){e.insertAdjacentHTML("before",t)}),this.send()}},{key:"getJsonList",value:function(e,t,n){this.requestType=this.REQUEST_TYPE_POST,this.element=e,this.createPostRequest(),this.send(t,n)}}]),e}();t.exports=l},{"./Data":13}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,null,[{key:"numberFormat",value:function(e,t){var n=0>e,r=n?-1*e:e-0,i=r.toFixed(t||2),a="[\\-]?\\d(?=(\\d{3})+"+(i>0?"\\D":"$")+")",o=i.replace(new RegExp(a,"g"),"$&,");return n?"-"+o:o}},{key:"format",value:function(t,n){return e.numberFormat(t,1).split(".")[0]}}]),e}();t.exports=a},{}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./AmountFormat"),s=r(o),l=function(){function e(){i(this,e)}return a(e,null,[{key:"format",value:function(e,t){return"&euro; "+s["default"].numberFormat(e,2)}}]),e}();t.exports=l},{"./AmountFormat":15}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,null,[{key:"format",value:function(e,t){return(e-0).toFixed(1)+"%"}}]),e}();t.exports=a},{}],18:[function(e,t,n){"use strict";t.exports={DataGrid:e("./component/datagrid/DataGrid"),form:{Request:e("./form/Request"),Data:e("./form/Data")},formatters:{AmountFormat:e("./formatter/AmountFormat"),MoneyFormat:e("./formatter/MoneyFormat"),PercentageFormat:e("./formatter/PercentageFormat")},plugins:{HiddenColumns:e("./plugin/HiddenColumns"),EditMenu:e("./plugin/EditMenu"),MultiEdit:e("./plugin/MultiEdit"),ScrollGridIntoView:e("./plugin/ScrollToTop"),DataLoader:e("./plugin/DataLoader")},util:e("./util/UtilObject"),version:.6}},{"./component/datagrid/DataGrid":2,"./form/Data":13,"./form/Request":14,"./formatter/AmountFormat":15,"./formatter/MoneyFormat":16,"./formatter/PercentageFormat":17,"./plugin/DataLoader":19,"./plugin/EditMenu":20,"./plugin/HiddenColumns":21,"./plugin/MultiEdit":22,"./plugin/ScrollToTop":23,"./util/UtilObject":25}],19:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../form/Request"),s=r(o),l=function(){function e(t){i(this,e),this.currentRequest=null,this.options=t||{},this.searchButton=t.button||document.querySelector("#btn-reload"),this.url=t.url,this.form=t.form||document.querySelector("form"),this.limit=t.limit||200,this.data=t.data||{},this.offset=0,this.onLoadStart=t.onLoadStart||function(){}}return a(e,[{key:"init",value:function(e){var t=this;this.datagrid=e.detail.datagrid,setTimeout(function(){t._sendNewRequest(),t._addListener()},200)}},{key:"_addListener",value:function(){var e=this,t=function(){e.onLoadStart(),e._sendNewRequest.apply(e)};this.searchButton.addEventListener("click",t,!1)}},{key:"_sendNewRequest",value:function(){null!=this.currentRequest&&this.currentRequest.abort(),this.datagrid.reset();var e=this,t=function(t){e.datagrid.renderText("loading....");var n=t.length;e.datagrid.addRows(JSON.stringify(t)),document.querySelector(".table-status-info .loader").classList.remove("hidden"),n>0&&n==e.limit?(e.offset+=e.limit,this.send(e.limit,e.offset)):(e.datagrid.render(!0),document.querySelector(".table-status-info .loader").classList.add("hidden"))};this.offset=0,this.currentRequest=new s["default"]({url:this.url,element:this.form,data:this.data,success:t}),this.currentRequest.send(e.limit,e.offset)}}]),e}();t.exports=l},{"../form/Request":14}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),this.element=t.element}return i(e,[{key:"hide",value:function(){var e=this.element;if(e.classList.contains("active")){e.classList.remove("active");var t=e.querySelector("#table-card-btn-save");e.replaceChild(t.cloneNode(!0),t);var n=e.querySelector("#table-card-btn-cancel");e.replaceChild(n.cloneNode(!0),n)}}},{key:"show",value:function(e){var t=this.element,n=this;t.classList.contains("active")||(t.querySelector("#table-card-btn-save").addEventListener("click",function(t){t.stopPropagation(),e.onSave(),n.hide(),t.preventDefault()},!1),t.querySelector("#table-card-btn-cancel").addEventListener("click",function(t){t.stopPropagation(),e.onCancel(),n.hide(),t.preventDefault()},!1),t.classList.add("active"))}},{key:"reset",value:function(){this.hide()}},{key:"selectRow",value:function(e,t,n){this.show(n)}},{key:"unSelectRow",value:function(e,t,n){t.querySelectorAll(":checked").length>0||this.hide()}}]),e}();t.exports=a},{}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),t=t||{},this.presets=t.presets||document.querySelectorAll(".datagrid-column-preset-toggle"),this.checkboxContainer=t.checkboxContainer||document.querySelector("#checkbox-filters"),this.checkboxes=this.checkboxContainer.querySelectorAll("[type='checkbox']")}return i(e,[{key:"init",value:function(e){this.datagrid=e.detail.datagrid;var t=this;Array.prototype.forEach.call(this.checkboxes,function(e){e.addEventListener("click",function(){t.hide.call(t,this)},!1)}),Array.prototype.forEach.call(this.presets,function(e){e.addEventListener("click",function(){t.handlePresets.call(t,this)},!1)}),this.hide()}},{key:"hide",value:function(){var e=this.checkboxContainer.querySelectorAll(":not(:checked)"),t=[];Array.prototype.forEach.call(e,function(e){t.push(e.getAttribute("data-column-pos"))}),this.datagrid.hideColumns(t)}},{key:"handlePresets",value:function(e){var t=this.checkboxes,n=JSON.parse(e.getAttribute("data-columns"));Array.prototype.forEach.call(t,function(e){var t=e.getAttribute("data-column-pos")-0;-1===n.indexOf(t)||e.checked?-1===n.indexOf(t)&&e.checked&&e.click():e.click()})}}]),e}();t.exports=a},{}],22:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../form/Request"),s=r(o),l=function(){function e(t){i(this,e),this.url=t.url||"./",this.onStart=t.onStart||function(){},this.onSuccess=t.onSuccess||function(){},this.onFail=t.onFail||function(){},this.onNoChanges=t.onNoChanges||function(){}}return a(e,[{key:"preSave",value:function(e){this.onStart()}},{key:"onSave",value:function(e){var t=e.detail.data;if(0==Object.keys(t).length)return void this.onNoChanges();var n=new s["default"]({url:this.url,data:t,success:this.onSuccess,error:this.onFail});n.send()}}]),e}();t.exports=l},{"../form/Request":14}],23:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("../animate/Scroll"),s=r(o),l=function(){function e(t){i(this,e),this.animator=new s["default"],this.element=t.element,this.startDelayTimeout=null}return a(e,[{key:"getTotalTop",value:function(){for(var e=this.element,t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t}},{key:"onMouseLeave",value:function(){document.activeElement.blur(),clearTimeout(this.startDelayTimeout)}},{key:"onFocus",value:function(e){if(!this.animator.isRunning()&&null===this.startDelayTimeout){var t=this;this.startDelayTimeout=setTimeout(function(){t.animator.animate(t.getTotalTop(),500,function(){e.detail.datagrid.yScrollContainer.focus()}),t.startDelayTimeout=null},500)}}}]),e}();t.exports=l},{"../animate/Scroll":1}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){r(this,e),void 0===t&&(t={}),this.settings=t}return i(e,[{key:"get",value:function(e,t){return void 0===t&&(t=!1),this.has(e)===!1&&(this.settings[e]=t),this.settings[e]}},{key:"add",value:function(e,t){this.has(e)||this.change(e,t)}},{key:"has",value:function(e){return this.settings.hasOwnProperty(e)}},{key:"change",value:function(e,t){this.settings[e]=t}},{key:"getAll",value:function(){return this.settings}}]),e}();t.exports=a},{}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e)}return i(e,null,[{key:"Merge",value:function(e,t){return"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var n=arguments[t];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Object.assign(e,t)}},{key:"DomReady",value:function(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}}]),e}();t.exports=a},{}]},{},[18])(18)});